\ProvidesPackage{citationscheme}

%-------------------------------------------------------------------%
%  Biblatex basic global styling                                    %
%-------------------------------------------------------------------%

% url=false removes '[Online] Available: _repetition of DOI_'
 
\usepackage[ 
style           	= alphabetic, 
sorting 			= nyt,
url					= false,
citetracker     	= true, 
natbib          	= true, 
hyperref      		= true,
backend      		= biber,
maxbibnames         = 99,
maxcitenames        = 2,
giveninits          = true,
uniquename    		= init,
parentracker  	  	= true,
backref        	 	= true,
backrefstyle    	=three]{biblatex}

\AtEveryBibitem{\clearfield{issn}}	% Removes ISSN (retains ISBN)
\AtEveryCitekey{\clearfield{issn}}
\AtBeginBibliography{\small}		% Sets references font size

% Uses an underline when an author has multiple publications (in line with the AMS style)
\renewcommand*{\bibnamedash}{\underline{\hspace{3em}}\kern 0.1em} 

% Uses a semicolon delimeter for multiple citations
\renewcommand{\multicitedelim}{\addsemicolon\space}

% Removes the "p." when just a number is referenced
\DeclareFieldFormat{postnote}{#1}

% Uniformly italicizes title of all works
\DeclareFieldFormat[article,inbook,incollection,inproceedings,patent,thesis,unpublished]{title}{\textit{#1\isdot}} 

\DeclareFieldFormat{journaltitle}{#1}  % Makes Journal title in normal text

% Takes away the "ser." in front of Series Title that is part of the ieee styling
\DeclareFieldFormat[book,inbook,incollection,inproceedings]{series}{#1} 

% Does sectioning and addition of references to table of contents correctly in article documentclass.
\defbibheading{references}[\refname]{%
\section*{#1}%
\addcontentsline{toc}{section}{References} %
\markboth{#1}{#1}
}

%%-------------------------------------------------------------------%
%%  Links to Lurie's books & Stacks project                          %
%%-------------------------------------------------------------------%
%
%% For use with multiple references
%\newcommand{\stackslink}[1]{\href{http://stacks.math.columbia.edu/tag/#1}{#1}} 
%
%% For use with multiple references
%\newcommand{\kerodonlink}[1]{\href{http://kerodon.net/tag/#1}{#1}} 
%
%% Part Links
%\newcommand{\SAGpartlink}[1]{\href{http://www.math.ias.edu/~lurie/papers/SAG-rootfile.pdf\#part.#1}{#1}}
%
%% Chapter Links
%\newcommand{\HTTchlink}[1]{\href{http://www.math.ias.edu/~lurie/papers/HTT.pdf\#chapter.#1}{#1}}
%\newcommand{\HAchlink}[1]{\href{http://www.math.ias.edu/~lurie/papers/HA.pdf\#chapter.#1}{#1}}
%\newcommand{\SAGchlink}[1]{\href{http://www.math.ias.edu/~lurie/papers/SAG-rootfile.pdf\#chapter.#1}{#1}}
%
%% Appendix Links
%\newcommand{\HTTapplink}[1]{\href{http://www.math.ias.edu/~lurie/papers/HTT.pdf\#appendix.#1}{#1}}
%\newcommand{\HAapplink}[1]{\href{http://www.math.ias.edu/~lurie/papers/HA.pdf\#appendix.#1}{#1}}
%\newcommand{\SAGapplink}[1]{\href{http://www.math.ias.edu/~lurie/papers/SAG-rootfile.pdf\#appendix.#1}{#1}}
%
%% Section Links
%\newcommand{\HTTseclink}[1]{\href{http://www.math.ias.edu/~lurie/papers/HTT.pdf\#section.#1}{#1}}
%\newcommand{\HAseclink}[1]{\href{http://www.math.ias.edu/~lurie/papers/HA.pdf\#section.#1}{#1}}
%\newcommand{\SAGseclink}[1]{\href{http://www.math.ias.edu/~lurie/papers/SAG-rootfile.pdf\#section.#1}{#1}}
%
%% Subsection Links
%\newcommand{\HTTsubseclink}[1]{\href{http://www.math.ias.edu/~lurie/papers/HTT.pdf\#subsection.#1}{#1}}
%\newcommand{\HAsubseclink}[1]{\href{http://www.math.ias.edu/~lurie/papers/HA.pdf\#subsection.#1}{#1}}
%\newcommand{\SAGsubseclink}[1]{\href{http://www.math.ias.edu/~lurie/papers/SAG-rootfile.pdf\#subsection.#1}{#1}}
%
%% Theorem/Lemma/Definition/etc. Links
%\newcommand{\HTTthmlink}[1]{\href{http://www.math.ias.edu/~lurie/papers/HTT.pdf\#theorem.#1}{#1}}
%\newcommand{\HAthmlink}[1]{\href{http://www.math.ias.edu/~lurie/papers/HA.pdf\#theorem.#1}{#1}}
%\newcommand{\HAappthmlink}[1]{\href{http://www.math.ias.edu/~lurie/papers/HA.pdf\#atheorem.#1}{#1}} 
%\newcommand{\SAGthmlink}[1]{\href{http://www.math.ias.edu/~lurie/papers/SAG-rootfile.pdf\#theorem.#1}{#1}}
%
%% Page Links
%\newcommand{\HTTpagelink}[1]{\href{http://www.math.ias.edu/~lurie/papers/HTT.pdf\#page.#1}{#1}}
%\newcommand{\HApagelink}[1]{\href{http://www.math.ias.edu/~lurie/papers/HA.pdf\#page.#1}{#1}}
%\newcommand{\SAGpagelink}[1]{\href{http://www.math.ias.edu/~lurie/papers/SAG-rootfile.pdf\#page.#1}{#1}}
%
%%-------------------------------------------------------------------%
%%  References to Lurie's books & Stacks project                     %
%%-------------------------------------------------------------------%
%
%\newcommand{\stackstag}[1]{\href{http://stacks.math.columbia.edu/tag/#1}{Tag #1}} 
%
%\newcommand{\kerodontag}[1]{\href{http://kerodon.net/tag/#1}{Tag #1}} 
%
%% Part Reference
%\newcommand{\SAGpart}[1]{\href{http://www.math.ias.edu/~lurie/papers/SAG-rootfile.pdf\#part.#1}{Part #1}}
%
%% Chapter Reference
%\newcommand{\HTTch}[1]{\href{http://www.math.ias.edu/~lurie/papers/HTT.pdf\#chapter.#1}{Chapter #1}}
%\newcommand{\HAch}[1]{\href{http://www.math.ias.edu/~lurie/papers/HA.pdf\#chapter.#1}{Chapter #1}}
%\newcommand{\SAGch}[1]{\href{http://www.math.ias.edu/~lurie/papers/SAG-rootfile.pdf\#chapter.#1}{Chapter #1}}
%
%% Appendix Reference
%\newcommand{\HTTapp}[1]{\href{http://www.math.ias.edu/~lurie/papers/HTT.pdf\#appendix.#1}{Appendix #1}}
%\newcommand{\HAapp}[1]{\href{http://www.math.ias.edu/~lurie/papers/HA.pdf\#appendix.#1}{Appendix #1}}
%\newcommand{\SAGapp}[1]{\href{http://www.math.ias.edu/~lurie/papers/SAG-rootfile.pdf\#appendix.#1}{Appendix #1}}
%
%% Section Reference
%\newcommand{\HTTsec}[1]{\href{http://www.math.ias.edu/~lurie/papers/HTT.pdf\#section.#1}{\S #1}}
%\newcommand{\HAsec}[1]{\href{http://www.math.ias.edu/~lurie/papers/HA.pdf\#section.#1}{\S #1}}
%\newcommand{\SAGsec}[1]{\href{http://www.math.ias.edu/~lurie/papers/SAG-rootfile.pdf\#section.#1}{\S #1}}
%
%% Subsection Reference
%\newcommand{\HTTsubsec}[1]{\href{http://www.math.ias.edu/~lurie/papers/HTT.pdf\#subsection.#1}{\S #1}}
%\newcommand{\HAsubsec}[1]{\href{http://www.math.ias.edu/~lurie/papers/HA.pdf\#subsection.#1}{\S #1}}
%\newcommand{\SAGsubsec}[1]{\href{http://www.math.ias.edu/~lurie/papers/SAG-rootfile.pdf\#subsection.#1}{\S #1}}
%
%% Theorem/Lemma/Definition/etc. Reference
%\newcommand{\HTTthm}[2]{\href{http://www.math.ias.edu/~lurie/papers/HTT.pdf\#theorem.#2}{#1 #2}}
%\newcommand{\HAthm}[2]{\href{http://www.math.ias.edu/~lurie/papers/HA.pdf\#theorem.#2}{#1 #2}}
%\newcommand{\HAappthm}[2]{\href{http://www.math.ias.edu/~lurie/papers/HA.pdf\#atheorem.#2}{#1 #2}} 
%\newcommand{\SAGthm}[2]{\href{http://www.math.ias.edu/~lurie/papers/SAG-rootfile.pdf\#theorem.#2}{#1 #2}}
%
%% Page Reference
%\newcommand{\HTTpage}[1]{\href{http://www.math.ias.edu/~lurie/papers/HTT.pdf\#page.#1}{p. #1}}
%\newcommand{\HApage}[1]{\href{http://www.math.ias.edu/~lurie/papers/HA.pdf\#page.#1}{p. #1}}
%\newcommand{\SAGpage}[1]{\href{http://www.math.ias.edu/~lurie/papers/SAG-rootfile.pdf\#page.#1}{p. #1}}
%
%%-------------------------------------------------------------------%
%%  Citations to Lurie's books & Stacks project                      %
%%-------------------------------------------------------------------%
%
%% Use: for stacks \stacks{Tag Number}, for HTT/HA/SAG, e.g., \HTT{Environment name}{Number}
%
%\newcommand{\stacks}[1]{\cite[\stackstag{#1}]{stacksproject}}
%\newcommand{\kerodon}[1]{\cite[\kerodontag{#1}]{Kerodon}}
%\newcommand{\HTT}[2]{\cite[\HTTthm{#1}{#2}]{HTT}}
%\newcommand{\HA}[2]{\cite[\HAthm{#1}{#2}]{HA}}
%\newcommand{\HAa}[2]{\cite[\HAappthm{#1}{#2}]{HA}} % For theorems in the appendix of HA 
%\newcommand{\SAG}[2]{\cite[\SAGthm{#1}{#2}]{SAG}}
%
